{% extends "admin/change_list.html" %}
{% block result_list %}
{{ block.super }}
<script>
    document.querySelectorAll('tr').forEach(row => {
        const idCell = row.querySelector('th');
        if (idCell) {
            const id = idCell.textContent.trim();
            if (!isNaN(id)) {
                const link = document.createElement('a');
                link.href = `allocate/${id}/`;
                link.textContent = 'Allocate';
                link.style.marginLeft = '10px';
                idCell.appendChild(link);
            }
        }
    });
</script>
{% endblock %}
